# =============================================================================
# Terrarium Git - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# IMPORTANT: Never commit .env to version control!
# =============================================================================

# =============================================================================
# DOMAIN & URLs
# =============================================================================
DOMAIN=terrarium-git.terrarium.network
ROOT_URL=https://terrarium-git.terrarium.network/

# External container registry (Zot)
CONTAINER_REGISTRY=containers.terrarium.network

# =============================================================================
# TRAEFIK / MANTRAE (Checkpoint)
# =============================================================================
# Mantrae manages Traefik routes at checkpoint.terrarium.network
CHECKPOINT_URL=https://checkpoint.terrarium.network
MANTRAE_PROFILE_TOKEN=b5pk6roume

# Traefik route configuration (for reference/automation)
TRAEFIK_ENTRYPOINT=websecure
TRAEFIK_CERT_RESOLVER=letsencrypt

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================
# Generate with: openssl rand -base64 32 | tr -d '/+=' | head -c 32
POSTGRES_PASSWORD=GENERATE_ME_FIRST

# =============================================================================
# GITEA ADMIN USER
# =============================================================================
# Admin user will be created on first run (idempotent)
ADMIN_USERNAME=yalefox
ADMIN_EMAIL=yale@terrarium.network
# Generate with: openssl rand -base64 24 | tr -d '/+='
# This password is only generated ONCE on first install
ADMIN_PASSWORD=GENERATE_ME_FIRST

# =============================================================================
# GITEA ACTIONS RUNNERS
# =============================================================================
# Get this from: Site Administration > Actions > Runners > Create new Runner
RUNNER_TOKEN=CONFIGURE_AFTER_FIRST_START

# Number of runners (2 recommended for 4GB RAM, scale up for 8GB+)
RUNNER_COUNT=2

# =============================================================================
# OIDC AUTHENTICATION (Pocket ID)
# =============================================================================
OIDC_ENABLED=true
OIDC_PROVIDER_NAME=Pocket ID
OIDC_CLIENT_ID=3b5ec0af-31c0-4950-99e4-1627b7b7dd41
OIDC_CLIENT_SECRET=yRtLbrGE72yyeDjZ7R6L0YlKAVLWBmBy
OIDC_DISCOVERY_URL=https://auth.terrarium.network/.well-known/openid-configuration

# =============================================================================
# EMAIL (AWS SES)
# =============================================================================
SMTP_ENABLED=true
SMTP_HOST=email-smtp.us-east-1.amazonaws.com
SMTP_PORT=587
SMTP_USER=AKIAYJIBUXQOWNNRL7WW
SMTP_PASSWORD=BCc+L6//bx+yCsByHwwRX6wYL1XOBGKwWEjP/t9a1hgt
SMTP_FROM=noreply@terrarium.network

# =============================================================================
# SSH
# =============================================================================
SSH_PORT=2222

# =============================================================================
# VERSIONS (update as needed)
# =============================================================================
GITEA_VERSION=1.23
POSTGRES_VERSION=17-alpine
RUNNER_VERSION=latest
