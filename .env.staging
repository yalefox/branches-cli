# =============================================================================
# Terrarium Git - Staging Environment Configuration
# =============================================================================
# For local/staging deployments (macOS, dev servers)
# Copy to .env for staging use
# =============================================================================

# =============================================================================
# ENVIRONMENT
# =============================================================================
ENVIRONMENT=staging

# =============================================================================
# DOMAIN & URLs
# =============================================================================
DOMAIN=terrarium-git.terrarium.network
ROOT_URL=https://terrarium-git.terrarium.network/

# External container registry (Zot)
CONTAINER_REGISTRY=containers.terrarium.network

# MinIO (LFS Storage)
MINIO_DOMAIN=terrarium-git-minio1.terrarium.network
MINIO_CONSOLE_PORT=9001
MINIO_API_PORT=9000

# =============================================================================
# TRAEFIK / MANTRAE (Checkpoint)
# =============================================================================
CHECKPOINT_URL=https://checkpoint.terrarium.network
MANTRAE_PROFILE_TOKEN=b5pk6roume
TRAEFIK_ENTRYPOINT=websecure
TRAEFIK_CERT_RESOLVER=letsencrypt

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================
POSTGRES_PASSWORD=GENERATE_ME_FIRST

# =============================================================================
# GITEA ADMIN USER
# =============================================================================
ADMIN_USERNAME=yalefox
ADMIN_EMAIL=yale@terrarium.network
ADMIN_PASSWORD=GENERATE_ME_FIRST

# =============================================================================
# GITEA ACTIONS RUNNERS
# =============================================================================
RUNNER_TOKEN=CONFIGURE_AFTER_FIRST_START
RUNNER_COUNT=2

# =============================================================================
# MINIO (LFS Object Storage)
# =============================================================================
MINIO_ROOT_USER=GENERATE_ME_FIRST
MINIO_ROOT_PASSWORD=GENERATE_ME_FIRST
MINIO_LFS_BUCKET=terrarium-git-lfs-01

# MinIO OIDC (svc-terrarium-git-lfs)
MINIO_OIDC_CLIENT_ID=c2bb536c-cd99-4e6a-b165-6c2298028c1c
MINIO_OIDC_CLIENT_SECRET=MCI0K5DOOJblR5r8q88VylH9zxrjtMCl
MINIO_OIDC_CONFIG_URL=https://auth.terrarium.network/.well-known/openid-configuration
MINIO_OIDC_CLAIM_NAME=policy
MINIO_OIDC_SCOPES=openid,profile,email

# =============================================================================
# OIDC AUTHENTICATION (Pocket ID) - For Gitea
# =============================================================================
OIDC_ENABLED=true
OIDC_PROVIDER_NAME=Pocket ID
OIDC_CLIENT_ID=3b5ec0af-31c0-4950-99e4-1627b7b7dd41
OIDC_CLIENT_SECRET=yRtLbrGE72yyeDjZ7R6L0YlKAVLWBmBy
OIDC_DISCOVERY_URL=https://auth.terrarium.network/.well-known/openid-configuration

# =============================================================================
# EMAIL (AWS SES)
# =============================================================================
SMTP_ENABLED=true
SMTP_HOST=email-smtp.us-east-1.amazonaws.com
SMTP_PORT=587
SMTP_USER=AKIAYJIBUXQOWNNRL7WW
SMTP_PASSWORD=BCc+L6//bx+yCsByHwwRX6wYL1XOBGKwWEjP/t9a1hgt
SMTP_FROM=noreply@terrarium.network

# =============================================================================
# SSH
# =============================================================================
SSH_PORT=2222

# =============================================================================
# DATA PATHS (Docker named volumes for macOS compatibility)
# =============================================================================
# For macOS staging, use Docker named volumes (no file sharing needed)
# For production Linux, override with bind mount paths like /opt/terrarium-git/data/postgres
POSTGRES_DATA=postgres-data
GITEA_DATA=gitea-data
MINIO_DATA=minio-data

# =============================================================================
# VERSIONS
# =============================================================================
GITEA_VERSION=1.23
POSTGRES_VERSION=17-alpine
RUNNER_VERSION=latest
MINIO_VERSION=latest
WAZUH_VERSION=4.14.1

# =============================================================================
# WAZUH AGENT (Log Shipping)
# =============================================================================
WAZUH_MANAGER=wazuh.terrarium.network
WAZUH_AGENT_GROUP=terrarium-services

# =============================================================================
# SERVER IP (for Traefik routing - auto-detected if empty)
# =============================================================================
SERVER_IP=
